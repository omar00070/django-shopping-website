{% extends "shop/base.html" %}
{% block content%}
	<main role="main">
  
  <section class="jumbotron text-center banner">
    <div class="container">
      <h1>Our New Collection</h1>
      <p class="lead text-banner">Something short and leading about the collection below—its contents, the creator, etc. Make it short and sweet, but not too short so folks don’t simply skip over it entirely.</p>
      <p>
        <a href="#" class="btn btn-primary my-2">Main call to action</a>
        <a href="#" class="btn btn-secondary my-2">Secondary action</a>
      </p>
    </div>
  </section>

  <div class="album py-5 bg-light">
    <div class="container">
      <div class="row">
      	<!-- shop cards -->
      	{% for product in products %}
        <div class="col-md-4">
			<div class="card mb-4 shadow-sm">
			  <img class="card-img-top" height="700" src="{{product.photo.url}}" alt="Card image cap">
			  <div class="card-body">
			    <h5 class="card-title">${{product.price}}</h5>
			    <p class="card-text">{{product.name}}</p>
			    <a href="#" class="btn btn-primary">Buy Now</a>
			  </div>
			</div>
        </div>
        {% endfor %}

      </div>
        <!-- pagination -->
        {% if is_paginated %}

          {% if page_obj.has_previous %}
          <a class="small btn btn-primary" href="?page={{page_obj.previous_page_number}}">Previous</a>
          {% endif %}

          {% for num in page_obj.paginator.page_range %}
            {% if page_obj.number == num %}
              <a class="btn btn-primary" href="?page={{page_obj.number}}">{{page_obj.number}}</a>
              {% elif num > page_obj.number|add:'-3' %}
              <a class="btn btn-outline-primary" href="?page={{num}}">{{num}}</a>
              {% elif num < page_obj.number|add:'3' %}
              <a class="btn btn-outline-primary" href="?page={{num}}">{{num}}</a>
            {%endif%}
          {% endfor %}
          
          {% if page_obj.has_next %}
          <a class="small btn btn-primary" href="?page={{page_obj.next_page_number}}">Next</a>
          {% endif %}
        
        {%endif%}
    </div>
  </div>

</main>

{% endblock content %}
